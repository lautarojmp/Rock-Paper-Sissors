<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <div class="header">Rock, Paper, Sissors!</div>
        <ul class="links">
            <li><a href="indexEN.html">EN</a></li>
            <li><a href="index Es.html">ES</a></li>
            
        </ul>
    </div>
    <div class="container">
        
        <div class="info">
            <div class="round">Round:</div>
            <div class="cpu">CPU</div>
            <div class="scores">
                <div class="score">Score:</div>
                <div> </div>
                <div> </div>
            </div>
        </div>
        <div class="cpuChoice">
            <img id="pc" class="cpuChoices" src="" alt="">
        </div>
        <div class="result">
            <div class="roundResult"></div>
        </div>
        <div class="text">
            <p>Choose your weapon:</p>
        </div>
        <div class="playerChoice">
            <button class="btn" id="rock"><img src="imgs/rock-icon-grey.png" alt="rock"></button>
            <button class="btn" id="paper"><img src="imgs/paper-icon-grey.png" alt=""></button>  
            <button class="btn" id="sissors"><img src="imgs/scissors-icon-grey.png" alt=""></button>   
        </div>
        <div class="playerName">
            <button id="play">Play</button>
        </div>
    </div>

    <script>
        
        let computerScore = 0;
        let playerScore = 0;
        
        
        //let rock  = "rock"
        //let paper = "paper"
        //let sissors = "sissors"

        function getRandomInt (min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        // Randomly returns rock, paper or sissors
        
        function computerPlay () {
            RandomInT = getRandomInt(1, 3) 
            switch (RandomInT) {
                case 1:
                    return("Rock")
                    break;
                case 2:
                    return("Paper")
                    break;
                case 3:
                    return("Sissors")
                    break;
                }   
        }
        
        // Player selection

        // function getPlayerSelection(btn) {
        //     switch (btn) {
        //         case "rock":
        //             return "rock"
        //             break;
            
        //         case "paper":
        //             return "paper"
        //             break;
                
        //         case "sissors":
        //             return "sissors"
        //         default:
        //             break;
        //    }
        //}
           
        
             function getPlayerSelection() {

                const rock = document.querySelector('#rock');
                rock.onclick = () => choice = "rock"
                const paper = document.querySelector('#paper');
                paper.onclick = () => choice = "paper"
                const sissors = document.querySelector('#sissors');
                sissors.onclick = () => choice = "sissors"

                return choice
               
             }

                
            //     let rock = document.getElementsByClassName("btn1");
            //     rock[0].addEventListener("click", () => choice = "rock");

            //     let paper = document.getElementsByClassName("btn2");
            //     paper[0].addEventListener("click", () => choice = "paper");

            //     let sissors = document.getElementsByClassName("btn3");
            //     sissors[0].addEventListener("click", () => choice = "sissors");
                
            //     return choice;
            //  }
        
                // Play a single round of the game
        
        function playRound(playerSelection, computerSelection) {

            const roundResult = document.querySelector(".roundResult");
            const result = document.querySelector(".result");
            result.appendChild(roundResult);
            

           if (playerSelection == "rock" & computerSelection == "Paper") { 
               roundResult.textContent = "You lose!";
               computerScore++;
               return computerScore;
              
                } else if
                    (playerSelection == "rock" & computerSelection == "Sissors") {
                        roundResult.textContent = "You win!";
                        playerScore++;
                        return playerScore;
                } else if
                    (playerSelection == "paper" & computerSelection == "Rock") {
                        roundResult.textContent = "You win!";
                        playerScore++;
                        return playerScore;
                } else if
                    (playerSelection == "paper" & computerSelection == "Sissors") {
                        roundResult.textContent = "You lose!";
                        computerScore++;
                        return computerScore;
                        
                } else if
                    (playerSelection == "sissors" & computerSelection == "Paper") {
                        roundResult.textContent = "You win!";
                        playerScore++;
                        return playerScore;
                } else if
                    (playerSelection == "sissors" & computerSelection == "Rock") {
                        roundResult.textContent = "You lose!";
                        computerScore++;
                        return computerScore;
                } else if
                    (playerSelection == "rock" & computerSelection == "Rock") {
                        roundResult.textContent = "Its a tie!";
                } else if
                    (playerSelection == "paper" & computerSelection == "Paper") {
                        roundResult.textContent = "Its a tie!";
                } else if
                    (playerSelection == "sissors" & computerSelection == "Sissors") {
                        roundResult.textContent = "Its a tie!";
                } else {
                    //roundResult.textContent = "Must be either rock, paper or sissors!";
                    
                }
                
        }

        /// Socoreees

        function count(i) {
            const round = document.querySelector(".round");
            const info = document.querySelector(".info");
            round.textContent = `Round: ${i}`;
            }
        

        function isPushed() {
            buttonIsPushed = false
             if (btn.onclick) {
                buttonIsPushed = true;
                return buttonIsPushed;
             } else {
                return buttonIsPushed = false
             }
         }

      
                
        // Plays 5 rounds of the game and declares the winner

         function game() {
             let i = 1
                btn.onclick = () => (count(i), playGame(), i++);
                
                 
                
                
                        
         }
            
         const cpuScore = document.createElement("div");
                cpuScore.classList.add("cpuScore");
                const scores = document.querySelector(".scores")
                scores.appendChild(cpuScore);
                const yourScore = document.createElement("div");
                yourScore.classList.add("yourScore");
                scores.appendChild(yourScore);

        function Scores(computerScore, playerScore) {
                
                cpuScore.textContent = `CPU: ${computerScore}`;
                yourScore.textContent = "You: " + playerScore ;
                
        }

         
            
         
            
         
        
        //  if (playerScore > computerScore) {
        //      roundResult.textContent = "YOU WON THE GAME!"
        //  } else if (playerScore < computerScore) {
        //          roundResult.textContent = "YOU LOST THE GAME"
        //  } else {
        //          roundResult.textContent = "THE GAME ENDS IN TIES"
        //      }
        //      roundResult.textContent = `Your score: ${playerScore} `
        //      roundResult.textContent = `Computer score: ${computerScore}`
        //}
        
        
        // function count() {
        //     let i = 1
        //     const round = document.querySelector(".round");
        //     const info = document.querySelector(".info");

        //         while (i <= 5) {
        //         round.textContent = `Round: ${i}`
        //          console.log("Round: " + i);

        //          roundResult.textContent = "your choice: " + playerSelection);
        //          let computerSelection = computerPlay();
        //          roundResult.textContent = "Computer choice: " + computerSelection);
        //         i++}
        // }

        
        // }


        // function roundCount() {

        //     let i = 1;
        //     const round = document.querySelector(".round");
        //     const info = document.querySelector(".info");
            
            
        //      while (isPushed = true) {
        //          round.textContent = `Round: ${i}`;
        //          isPushed = false
        //         i++;
            
             
        //     }
        // }

        function playGame() {
            
                let i = 1
                let playerSelection = getPlayerSelection();
                let computerSelection = computerPlay();
                createImg (computerSelection);
                console.log(playRound(playerSelection, computerSelection));
                Scores(computerScore, playerScore);
                }
            
             
               
        function createImg (computerSelection) {

            if (computerSelection == "Rock") {
                img.setAttribute("src", "imgs/rock-icon-grey.png");
            } else if (computerSelection == "Paper") {
                img.setAttribute("src", "imgs/paper-icon-grey.png");
            } else if (computerSelection == "Sissors") {
                img.setAttribute("src", "imgs/scissors-icon-grey.png");
        }
        
        
        
        }
     
        //game()
        
       //let isPushed = false
        let choice 

        const play = document.getElementById("play");
        play.addEventListener("click", () => console.log(game()));

        const btn = document.querySelector(".playerChoice");
       // btn.onclick = () => getPlayerSelection();
        const cpuChoice = document.querySelector(".cpuChoice")
        let img = document.querySelector("#pc");
        cpuChoice.appendChild(img);




    </script>
</body>
</html>